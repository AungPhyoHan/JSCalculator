<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta author="AungPhyoHan">
	<title>JS CALCULATOR</title>
	<style>
		#layout{
			margin-left:50%;
		}
		#layout table button
		{
			width:50px;
		}
	</style>
</head>
<body>
<div id="layout" size="3">
	<text id="result"></text>
	<table>
		<caption>My Calculator</caption>
			<tr>
				<td colspan="4"><text id="last_output"></text></td>
			</tr>
			<tr>
				<td colspan="4"><textarea id="record" style="width:100%"></textarea></td>
			</tr>
			<tr>
				<td><button type="button" id="plus" onclick="arithematic(1);">+</button></td>
				<td><button type="button" id="minus" onclick="arithematic(2);">-</button></td>
				<td><button type="button" id="multiply" onclick="arithematic(3);">*</button></td>
				<td><button type="button" id="divide" onclick="arithematic(4);">/</button></td>
			</tr>
			<tr>
				<td><button type="button" onclick="inputNumber('9')">9</button></td>
				<td><button type="button" onclick="inputNumber('8')">8</button></td>
				<td><button type="button" onclick="inputNumber('7')">7</button></td>
				<td rowspan="2"><button type="button" style="height:50px" onclick="outputNumber()">Enter</button></td>
			</tr>
			<tr>
				<td><button type="button" onclick="inputNumber('6')">6</button></td>
				<td><button type="button" onclick="inputNumber('5')">5</button></td>
				<td><button type="button" onclick="inputNumber('4')">4</button></td>
			</tr>
			<tr>
				<td><button type="button" onclick="inputNumber('3')">3</button></td>
				<td><button type="button" onclick="inputNumber('2')">2</button></td>
				<td><button type="button" onclick="inputNumber('1')">1</button></td>
				<td><button type="button" onclick="inputNumber('0')">0</button></td>
			</tr>
	</table>
</div>
<script type="text/javascript">
// note previous opcode
	let my_operator = "";
// note previous oparam and opcode for show
	let output = "";
// save latest calculated number
	let last_record=0;
// save numbers in textarea
	let record = "";

// when clicking "Enter" button,show final calculated-result
	function outputNumber()
	{
		last_record = calculateNumbers(my_operator);
		output = "";
		document.getElementById("last_output").innerHTML = "";
		record = "";
		document.getElementById("record").innerHTML = "";
		my_operator = "";
		document.getElementById("result").innerHTML = last_record;
		last_record = 0;
	}

// number input to textarea,0 to 9
	function inputNumber(number)
	{
		record += number;
		output += number;
		document.getElementById("record").innerHTML = record;
		document.getElementById("result").innerHTML = "";
	}

// calculation
	function arithematic(operator){
		if(record != "")
		{
			if(last_record == "")
			{
				last_record = record;
				{
					let txt = setOperator(operator);
					output += txt;
					document.getElementById("last_output").innerHTML = output;
				}
			my_operator = operator;
			record = "";
			document.getElementById("record").innerHTML="";
		}else{
			last_record = calculateNumbers(my_operator);
			my_operator = operator;
			record = "";
			document.getElementById("record").innerHTML="";
			{
				let txt = setOperator(operator);
				output += txt;
				document.getElementById("last_output").innerHTML = output;
			}
		}
		}
		
	}

// based on previous opcode, calculate numbers
	function calculateNumbers(opcode)
	{
		switch(my_operator)
		{
			case 1:
				return Number(last_record)+Number(record);
			break;
			case 2:
				return Number(last_record)-Number(record);
			break;
			case 3:
				return Number(last_record)*Number(record);
			break;
			case 4:
				if(Number(record)==0)
				{
					alert("Base Number can't be zero");
				}else{
					return Number(last_record)/Number(record);
				}
			break;
			default:
				return ;
			break;
			}
	}

// for show, opcode convert to string
	function setOperator(opcode)
	{
		switch(opcode){
			case 1:
				return "+";
			break;
			case 2:
				return "-";
			break;
			case 3:
				return "*";
			break;
			case 4:
				return "/";
			break;
		}
	}
</script>
</body>
</html>